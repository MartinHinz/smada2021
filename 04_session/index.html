<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Statistical methods for archaeological data analysis I: Basic methods</title>
    <meta charset="utf-8" />
    <meta name="author" content="Martin Hinz" />
    <script src="libs/header-attrs-2.6/header-attrs.js"></script>
    <link rel="stylesheet" href="../libs/default.css" type="text/css" />
    <link rel="stylesheet" href="../libs/default-fonts.css" type="text/css" />
    <link rel="stylesheet" href="../libs/customize.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">

class: title-slide, center, middle



#  Statistical methods for archaeological data analysis I: Basic methods

##  04 - Descriptive statistics

###  Martin Hinz

####  Institut für Archäologische Wissenschaften, Universität Bern

17.03.2019

---

## Loading data for the following steps

### download data
* <a href="data:text/csv;base64,O0dyYXZlO01ubztGTDtCSDtCRkE7RkE7Q0Q7QlJBO0VEO0ZFTDtDO0JXO0JUO0ZFVztDb2lscztMZW5ndGg7ZmlidWxhX3NjaGVtZQoxOzEyMTszNDg7Mjg7MTc7MTsxMDsxMDsyOzg7NjsyMDsyLDU7Miw2OzIsMjs0OzUzO0IKMjsxMzA7NTQ1OzI5OzE1OzM7ODs2OzM7NjsxMDsxNzsxMSw3OzMsOTs2LDQ7Njs0NztCCjM7MTMwOzU0OTsyMjsxNTszOzg7NzszOzEzOzE7MTc7NTs0LDY7Miw1OzEwOzQ3O0IKODsxNTc7ODU7MjM7MTM7Mzs4OzY7MjsxMDs3OzE1OzUsMjsyLDc7NSw0OzEyOzQxO0IKMTE7MTgxOzIxMjs5NDsxNTs3OzEwOzEyOzU7MTE7MzE7NTA7NCwzOzQsMztOQTs2OzEyODtDCjEyOzE5Mzs2MTE7Njg7MTg7Nzs5Ozk7NzszOzUwOzE4OzksMzs2LDU7TkE7NDsxMTA7QwoxMzsyMzs2NDM7MTU7MTg7MTsxMDsxMDsxOzU7MDsxNTszLDU7Myw1OzA7NDs0MDtBCjE0OzMxOzgxMjsyMzsyNjs0Ozc7OTs1OzEyOzE7MTY7NiwyOzcsNzsyLDg7NDs3NDtBCjE1OzQ0Ozc1MjsxMDsxMDsyOzEwOzY7MjsyO05BOzk7MjsyLDM7MiwyOzM7MjY7QQoxNjs0ODs3ODg7MTU7MTk7Mjs4Ozc7MzszOzQ7MTI7Myw3OzMsNTsxLDk7NDs1NjtCCjE3OzQ5Ozc5ODsyMDsyMzsyOzg7NzsxOzg7NTsxNjs3LDc7NSwyOzIsNjs2OzY4O0IKMTg7Njs2NzM7Mjc7MTU7Njs4Ozc7NTszOzExOzExOzMsNzszLDU7MSw4OzQ7NTU7QQoxOTs2MTs4MjE7MjA7MTM7NTs4OzU7MjsxMDs1OzEwOzQsNDs0LDQ7NSwxOzY7MzY7QgoyMDs2MTs4MzA7MjA7MTQ7MTs4OzY7MTszOzQ7MTQ7MTQsMzsxLDQ7MSw3OzY7NDQ7QgoyMTs2ODs1ODc7MjI7MTg7MTs4Ozc7MTs1Ozg7MTc7OCw4OzM7Miw0OzY7NTk7QgoyMjs4MDs1Mjk7MTI7MjI7MTs2Ozk7MTs5OzA7MTE7Niw4OzYsNDswOzQ7NDU7QgoyMzs5MTs0NjQ7MjA7MTU7Mjs3Ozc7Mzs2OzEwOzEyOzUsNTszLDg7Myw5OzY7NTA7Qgo=" download="muensingen_fib.csv">muensingen_fib.csv</a>

### Read the Data on Muensingen Fibulae


```r
muensingen &lt;- read.csv2("muensingen_fib.csv")
head(muensingen)
```

```
##    X Grave Mno FL BH BFA FA CD BRA ED FEL  C   BW  BT FEW Coils Length
## 1  1   121 348 28 17   1 10 10   2  8   6 20  2.5 2.6 2.2     4     53
## 2  2   130 545 29 15   3  8  6   3  6  10 17 11.7 3.9 6.4     6     47
## 3  3   130 549 22 15   3  8  7   3 13   1 17  5.0 4.6 2.5    10     47
## 4  8   157  85 23 13   3  8  6   2 10   7 15  5.2 2.7 5.4    12     41
## 5 11   181 212 94 15   7 10 12   5 11  31 50  4.3 4.3  NA     6    128
## 6 12   193 611 68 18   7  9  9   7  3  50 18  9.3 6.5  NA     4    110
##   fibula_scheme
## 1             B
## 2             B
## 3             B
## 4             B
## 5             C
## 6             C
```

---

## Descriptive Statistics

### Summary of a amount of observed data
The distribution of the data in the sample is displayed.

### Ways of display

Table – contingency table

Graphical – charts

Numeric – with specific parameters of the distribution

Descriptive statistics do (effectivly) not making statements about the
population but describes the sample! (in difference to statistical inference)

---

## Parameters of distributions

### Central tendency
What is the typical individual

mean, median, mode

### Dispersion

How much variation is there

Range, variance, standard deviation, coefficient of variation

### Shape

Shape of the distribution curve

symmetric/asymmetric

Skewness and curtosis

---

![](../images/04_session/distr_football_field.png)
.caption[source: Phillips 1997]
---

## Central tendency [1]

### mean

The classical. Suitable for metric data (interval or ratio)
Sum of values/number of values, or

$$ \bar{x} = \frac {\sum_{i=1}^{n} x_i} {n} $$


```r
sum(muensingen$Length) / length(muensingen$Length)
```

```
## [1] 57.58824
```

```r
mean(muensingen$Length)
```

```
## [1] 57.58824
```

---

## Central tendency [2]
### Median

.small[
Suitable for metric and ordinal variables.

Uneven number: the central value of a sorted vector.

```
1 2 3 4 5 6 7
      |
```

R:

```r
median(c(1,2,3,4,5,6,7))
```

```
## [1] 4
```

Even number: the mean of the two central values of a sorted vector.

```
1 2 3 4 5 6 7 8
       |
```
R:

```r
median(c(1,2,3,4,5,6,7,8))
```

```
## [1] 4.5
```
]
---

## Central tendency [3]
### Mode

The most frequent value of a vector. Suitable for metric, ordinal and
nominal variables.

goat sheep goat cattle cattle goat pig goat

Modus: goat

In R:

```r
which.max(
  table(
    c("goat", "sheep", "goat", "cattle","cattle", "goat", "pig", "goat")
    )
  )
```

```
## goat 
##    2
```

---

## Central tendency [4]

### Variable is

| nominal | ordinal | intervall+ |
|-|-|-|
| mode | mode | mode |
| - | median | median |
| - | - | mean |
.caption[after: Dolić 2004]

---

## Central tendency [5]
### Comparison of central values:

.small[
Strongly affected by outliers: the mean is very sensitive for outliers, the median less, the mode hardly


```r
test&lt;-c(1,2,2,3,3,3,4,4,5,5,6,7,8,8,8,9,120)
mean(test)
```

```
## [1] 11.64706
```

```r
median(test)
```

```
## [1] 5
```

```r
which.max(table(test))
```

```
## 3 
## 3
```


The mode is of little value for describing metric or ordinal data, only when a more or less symmetric distribution is present


```r
which.max(table(c(1,2,2,3,3,3,4,4,4,4,5,5,5,6,6,7)))
```

```
## 4 
## 4
```
]
---
class:center, middle

![:width 90%](../images/04_session/dist_comp_1.png)
---
class:inverse

## Central tendency exercise
### Describe the central tendency

Analyse the measurements of the width of cups (in cm) from the burial
ground Walternienburg (Müller 2001, 534; selection):

* <a href="data:text/csv;base64,IiI7IngiCiIxIjsxMgoiMiI7MTksNQoiMyI7MTgsNgoiNCI7MTIsOQoiNSI7MTMsMgoiNiI7OSw5CiI3IjsxOSw1CiI4Ijs4LDQKIjkiOzIxCiIxMCI7MTgsOQoiMTEiOzcsNQoiMTIiOzE4LDkKIjEzIjs4LDEKIjE0Ijs5CiIxNSI7Nyw4CiIxNiI7OSw5CiIxNyI7MTAsMgoiMTgiOzgsMQoiMTkiOzEyCiIyMCI7OQoiMjEiOzI2LDEKIjIyIjsyMCw0Cg==" download="tassen.csv">tassen.csv</a>


```r
tassen&lt;-read.csv2("tassen.csv",row.names=1)
tassen$x
```

```
##  [1] 12.0 19.5 18.6 12.9 13.2  9.9 19.5  8.4 21.0 18.9  7.5 18.9  8.1  9.0  7.8
## [16]  9.9 10.2  8.1 12.0  9.0 26.1 20.4
```

Identify the mode, median and mean and determine if the distribution is
symmetric, positive or negative skewed.

---
class:center, middle

![:width 60%](../images/04_session/dist_comp_2.png)

.caption[source: Phillips 1997]

---

## Dispersion [1]
### Range
Simply the range of the values of a data vector.


```r
range(muensingen$Length)
```

```
## [1]  26 128
```

```r
range(tassen$x)
```

```
## [1]  7.5 26.1
```

Because the measurement is related to the extreme values it is very
sensitive for outliers.

---
class: middle, center

### How far deviates the individual values from the mean in the mean?
&lt;img src="index_files/figure-html/unnamed-chunk-15-1.png" width="100%" /&gt;

---

## Dispersion [2]
### (empirical) variance

Measure for the variability of the data, more insensitive against outliers
Equals to the sum of the squared distances from the mean divided by the
number of observations

$$ 
s^2 = \frac {\sum_{i=1}^{n} (x_i - \bar{x})} {n-1}
$$

In R:

```r
sum((tassen$x-mean(tassen$x))^2)/(length(tassen$x)-1)
```

```
## [1] 31.11136
```

```r
var(tassen$x)
```

```
## [1] 31.11136
```

.footnote[.tiny[
Attention: there is another variance σ2 (with n instead of n-1) which is only suitable for analysis of the population (which is not known most of the times), not for samples
]]

---

## Dispersion [3]
### (empirical) standard deviation
Variance has through the squaring squared units (mm → mm2)

For a parameter with the original units: square root → standard deviation

$$ 
s = \sqrt{\frac {\sum_{i=1}^{n} (x_i - \bar{x})} {n-1}}
$$


```r
sqrt(sum((tassen$x-mean(tassen$x))^2)/(length(tassen$x)-1))
```

```
## [1] 5.577756
```

```r
sd(tassen$x)
```

```
## [1] 5.577756
```

Equals the mean distance from the mean

.footnote[.tiny[
Attention: there is another standard deviation σ (with n instead of n-1) which is only suitable for analysis of the population (which is not known most of the times), not for samples
]]

---

## Dispersion [4]
### coefficient of variation

Standard deviation has the unit of the original data (e.g. mm).

To compare two distributions with different units:
coefficient of variation = standard deviation/mean

Example: Vary foot length and total length equal?

```r
sd(muensingen$Length)/mean(muensingen$Length)
```

```
## [1] 0.4508988
```

```r
sd(muensingen$FL)/mean(muensingen$FL)
```

```
## [1] 0.7732486
```

Foot length vary more than total length

---
## Dispersion [5]

### Quantile
.small[
Oh, we've done that one...

The 1., 2., 3. and 4. quarter of the data (sorted and counted) resp. there boundaries

![](../images/04_session/dist_skewed_left.png)

.caption[Phillips 1997]

]

---

## Dispersion [5]
### Quantile
.small[
Oh, we've done that one...

The 1., 2., 3. and 4. quarter of the data (sorted and counted) resp. there boundaries

```r
quantile(tassen$x)
```

```
##   0%  25%  50%  75% 100% 
##  7.5  9.0 12.0 18.9 26.1
```

new: percentile (the same for percents)

```r
quantile(tassen$x, probs=seq(0,1,0.1))
```

```
##    0%   10%   20%   30%   40%   50%   60%   70%   80%   90%  100% 
##  7.50  8.10  8.52  9.27 10.02 12.00 13.08 18.81 19.38 20.31 26.10
```

Dispersion measure inner quartile range


```r
IQR(tassen$x)
```

```
## [1] 9.9
```

More insensitive against outliers than the standard deviation, but information is lost
]

---
class: inverse

## Dispersion exercise
### Determine the dispersion of the data

Analyse the sizes of areas visible from different megalithic graves of the Altmark (Demnick 2009):

* <a href="data:text/csv;base64,Z3JhYm51bW1lcjtzaWNodGZsYWVjaGU7cmVnaW9uCkxhMDE7Mi43MjtNaXR0ZQpMZzE7MjYuNzg7TWl0dGUKTGkwMjsyNi45NjtNaXR0ZQpTYTAxOzI3LjA1O01pdHRlCkxpMDY7MzIuOTM7TWl0dGUKS/YwMTszNC43NjtNaXR0ZQpMaTA0OzM1Ljc3O01pdHRlCldzMDY7MzYuOTg7TWl0dGUKTGkwNTszNy42O01pdHRlCkplMDI7NDUuOTk7TWl0dGUKSmUwMTs0OC41MztNaXR0ZQpMaTAxOzEyMy4xNjtNaXR0ZQpMaTAzOzEzNi44NTtNaXR0ZQpEbzAxOzIyNy4wODtNaXR0ZQpHZzAyOzIuMTM7T3N0ClNmMTs2LjA4O09zdApCcjU7Ny42NztPc3QKRHoxOzEwLjIzO09zdApEejI7MTEuNDQ7T3N0CkdnMDE7MTUuNzc7T3N0CkdyMjsxOC44ODtPc3QKR3IwMTsyMS43NztPc3QKSEYwMTsyNS45NDtPc3QKQnI0OzMxLjMyO09zdApLbDAyOzQwLjMzO09zdApCdzAxOzQ1LjcxO09zdApLbDAxOzUwLjExO09zdApLbDAzOzU0Ljk2O09zdApLbDA0OzU2LjM7T3N0CkdCMDE7NjAuMjQ7T3N0ClNmNjs3Mi40O09zdApCdzE7ODAuNzE7T3N0CktsMTs5MS45NDtPc3QKQvwxOzExNi43NztPc3QKQnIzOzExOC43NTtPc3QKQnIxOzE2OS42MztPc3QKQnIyOzE4OC44NztPc3QKQWgwMTsyMS44MjtXZXN0CkFoMDI7MzEuNTM7V2VzdApBaDAzOzQxLjc4O1dlc3QKQWgwNDs1Ljk4O1dlc3QKQWgwNTs2LjA5O1dlc3QKQmkwMTsxOS4yO1dlc3QKQmkwMTE7MjYuMjE7V2VzdApCaTAxMjsyNy40NztXZXN0CkJpMDI7NzEuODg7V2VzdApCaTAzOzEyMy4yOTtXZXN0CkJpMDU7MTYuNjE7V2VzdApCaTA2OzE3LjUxO1dlc3QKQmkwNzsxOC45NTtXZXN0CkJpMDg7MTkuNjc7V2VzdApCaTA5OzI2LjY1O1dlc3QKQmkxOzI2LjYxO1dlc3QKQnMwMTs1Mi4xODtXZXN0CkJzMDI7NC45NTtXZXN0CkJzMDM7MzYuNTE7V2VzdApCczE7MjcuMjtXZXN0CkJzMjszMC40NjtXZXN0CkRpMDE7MzcuNjg7V2VzdApEaTAyOzMzLjEyO1dlc3QKRGkwMzszLjAxO1dlc3QKRGkwNDsxMC40NDtXZXN0CkRpMDU7OC42MztXZXN0CkRpMDY7MS44O1dlc3QKRGkxOzY2LjYzO1dlc3QKRGkyOzEyLjIxO1dlc3QKRGkzOzU4LjE1O1dlc3QKRHIwMTsyOC4xNTtXZXN0CkRyMDI7NDMuNjtXZXN0CkRyMDM7NDMuMDI7V2VzdApEcjI7MjQuNTk7V2VzdApJbTAxOzQ3LjE4O1dlc3QKSW0wMjsyLjgzO1dlc3QKSW0wNDsxNi43NjtXZXN0CkltMTs2OS40NTtXZXN0CkltMjsxOC42MTtXZXN0CkxlMDE7NTcuOTtXZXN0CkxlMTs1NS41ODtXZXN0CkxlMjs1OC44ODtXZXN0CkxlMzs1OS4yO1dlc3QKTGU0OzYwLjI5O1dlc3QKTGU1OzYxLjk1O1dlc3QKTGU2Ozg1Ljc3O1dlc3QKTGU3OzEzNS4wMTtXZXN0CkxlODsxMzguMDY7V2VzdApM/DAxOzQuNzU7V2VzdApM/DAyOzQuOTk7V2VzdApM/DE7MS45ODtXZXN0Ckz8MjsxLjU0O1dlc3QKTPwzOzIuNTI7V2VzdApM/DQ7NC4wNDtXZXN0Ckz8NTsyLjg5O1dlc3QKTPw2OzI5LjU1O1dlc3QKTWUyOzcuMTk7V2VzdApNZTM7Ni4zNTtXZXN0Ck1sMDE7MTYuODI7V2VzdApNbDAyOzAuMzI7V2VzdApNbzAxOzcuNDQ7V2VzdApNbzAyOzkuODE7V2VzdApNbzAzOzE4LjU3O1dlc3QKTW8wNDsxNy41MztXZXN0Ck1vMDU7ODUuNzU7V2VzdApNbzA2OzguNzY7V2VzdApNbzA3OzEzLjE4O1dlc3QKTW8xOzY4LjQ0O1dlc3QKTW80OzcuNjg7V2VzdApOZTE7MzcuNDtXZXN0Ck50MTsxMS44NTtXZXN0ClD8MDE7MzAuMDE7V2VzdApSZTAxOzIuODQ7V2VzdApSaTAxOzE0O1dlc3QKUmkwMjsxMi4yMTtXZXN0ClJpMDM7MTMuMTE7V2VzdApSaTA0OzE0LjE1O1dlc3QKUm8wMTs0Ny4xOTtXZXN0ClJvMDI7NDYuNDk7V2VzdApSbzAzOzI4LjQ4O1dlc3QKU2gxOzQuMTg7V2VzdApTdzAxOzY1LjE3O1dlc3QKU3cwMjs1Ni44NjtXZXN0ClN3MTsxNy4xNDtXZXN0ClN3Mjs1LjczO1dlc3QKU3czOzQuNDk7V2VzdApUYTE7OC42O1dlc3QKVGEzOzQ5LjUyO1dlc3QKVGE0OzQ1LjU4O1dlc3QKVGE1OzUxLjIxO1dlc3QKVGE2OzcuNzI7V2VzdApUYTc7MTUuOTU7V2VzdApXaTE7MjcuNzc7V2VzdAo=" download="altmark_denis2.csv">altmark_denis2.csv</a>


```r
altmark&lt;-read.csv2("altmark_denis2.csv",row.names=1)
head(altmark)
```

```
##         sichtflaeche region
## La01            2.72  Mitte
## Lg1            26.78  Mitte
## Li02           26.96  Mitte
## Sa01           27.05  Mitte
## Li06           32.93  Mitte
## K\xf601        34.76  Mitte
```

Evaluate in which region the visible area is more equal (less disperse).

---

## Shape of the distribution [1]
.pull-left[
### Important Parameters

Number of peaks of the distribution: unimodal, bimodal, multimodal

Skewness of the distribution: positive, negative

Curtosis (curvature) of the distribution: flat, medium, steep
]

.pull-right[
![:width 60%](../images/04_session/dist_shapes.png)

.caption[Shape of distributions (after Bortz 2006)]
]

---
class:center, middle

![:width 90%](../images/04_session/dist_comp_1.png)
---

## Shape of the distribution [2]
### Skewness

Mean right or left of the median

Read from the chart ;-)

calculate:
$$
\hat{S} = \frac {\sum_{i=1}^n (x_i - \bar{x})^3} {n * s^3}
$$


Positive value indicates positive skew, negative resp.

---

## Shape of the distribution [2]
### Skewness

There is no function in R currently available to calculate this. So we build our own:


```r
skewness &lt;- function(x) {
  m3 &lt;- sum((x-mean(x))^3) #numerator
  skew &lt;- m3 / ((sd(x)^3)*length(x)) #denominator
  skew
  }
```

Test:


```r
test&lt;-c(1,1,1,1,1,1,1,1,1,1,2,3,4,5)
skewness(test)
```

```
## [1] 1.406826
```

```r
test&lt;-c(3,3,3,3,3,3,3,3,3,3,3,3,2,1)
skewness(test)
```

```
## [1] -2.231232
```


---

## Shape of the distribution [3]
### Kurtosis

.pull-left[
The curvature of the distribution
Read from the chart ;-)
n
calculate:

$$
K = \frac {\sum_{i=1}^n (x_i - \bar{x})^4} {n*s^4}
$$

Positive if steeper, negative if flatter curve than the normal distribution
]
.pull-right[
![](../images/04_session/dist_curtosis.png)
]
---

## Shape of the distribution [3]
### Kurtosis

We write a function for that, too:

```r
kurtosis &lt;- function (x) {
  m3 &lt;- sum((x-mean(x))^4)
  skew &lt;- m3 / ((sd(x)^4)*length(x))-3
  skew
  }
```

Test:

```r
test&lt;-c(1,2,3,4,4,5,6,7)
kurtosis(test)
```

```
## [1] -1.46875
```

```r
test&lt;-c(1,2,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,6,7)
kurtosis(test)
```

```
## [1] 2.011364
```
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="../libs/remark-latest.min.js"></script>
<script src="../libs/macros.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false,
"fig_caption": true,
"ratio": "16:10"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
